{
  "hash": "91269afb7590ba74142616f02c431aa0",
  "result": {
    "markdown": "---\ntitle: \"Escribiendo posts: practicando con Quarto\"\nsubtitle: \"(5ª parte del taller [Mi primer blog con Quarto](https://perezp44.github.io/taller.primer.blog/))\"\n---\n::: {.callout-note collapse=\"true\" appearance=\"default\" icon=\"false\"}\n#### Contexto\n\n-  Tutorial preparado para el taller **Mi primer blog con Quarto** impartido en Córdoba (Spain) durante el [I Congreso & XII Jornadas de Usuarios de R](http://r-es.org/12jr/), 23-25 de noviembre de 2022.\n-   El taller está pensado para realizar con [R](https://cran.r-project.org/). Se utilizará el IDE [RStudio](https://www.rstudio.com/products/rstudio/) y [Quarto](https://quarto.org/). Se recomienda tener instaladas **versiones recientes** de los 3 programas\n\n- Este tutorial es sólo una parte del taller. El **taller completo** está [aquí](https://perezp44.github.io/taller.primer.blog/).\n:::\n\n\n\n::: {.callout-note collapse=\"true\" appearance=\"default\" icon=\"false\"}\n## Recapitulación\n\n-   En esta quinta parte del taller veremos como escribir nuestros posts con Quarto.\n\n-   Las anteriores secciones del taller son:\n\n    1. **Intro**: se presenta el taller\n\n    2. **Creación de un blog (básico) con Quarto**: vimos como crear y alojar un **blog básico** con RStudio y Quarto.\n    \n    3. **Tuneado básico del blog**: modificamos ligeramente los ficheros `_quarto.yml`, `index.qmd`, `about.qmd` y `styles.css`.\n    \n    4. **Workflow: ¿cómo crear un post?**: vimos como generar nuevos posts para nuestro blog.\n:::\n\n------------------------------------------------------------------------\n\n<br>\n\n\n::: {.callout-tip  appearance=\"default\" icon=\"false\"}\n## ¿Qué haremos en este tutorial?\n\n- Aprender a escribir nuestro posts con Quarto: con ficheros `.qmd`\n\n- En concreto veremos: yaml, texto, chunks\n\n- Aprender a utilizar algunos truquillos de Quarto\n:::\n\n::: {.callout-warning  appearance=\"default\" icon=\"true\"}\n\nVoy a **suponer que los asistentes al taller**, y posible lectores, de estos tutoriales **conocen Rmarkdown** y han escrito algún documento `.Rmd`. En ese caso, el paso de `.Rmd` a `.qmd` es sencillo. \n\nEn cualquier caso, [aquí](https://quarto.org/docs/faq/rmarkdown.html) tienes unas FAQ's para usuarios de .Rmd que se preguntan si pasarse a Quarto, y [aquí](https://laderast.github.io/qmd_rmd/#/title-slide) unas slides sobre las diferencias entre `.qmd` y `.Rmd`.\n\nAquellos que no sepan qué es Rmarkdown pueden empezar por [aquí](https://perezp44.github.io/intro-ds-22-23-web/tutoriales/tt_07_Rmarkdown.html) o [aquí](https://perezp44.github.io/intro-ds-22-23-web/slides/slides_07_rmarkdown.html#1).\n\n:::\n\n\n\n\n<br>\n\nEn el tutorial anterior aprendimos a generar nuevos post para nuestro blog. Ahora **aprenderemos a escribir esos post**; veremos las **posibilidades que nos ofrece Quarto** a la hora de escribir y formatear nuestros posts. \n\n## Escribiendo con Quarto\n\nEn el tutorial anterior creamos un nuevo post en la carpeta `./posts/my-primer-post/`. En realidad ese post es idéntico al primero (`welcome`) ya que sencillamente hicimos un copy-paste. Ahora sí que vamos a modificar el contenido (yaml/texto/chunks) del post para aprender algunos truquillos sobre Quarto.\n\nYa sabemos que la carpeta `./posts/my-primer-post/` contiene dos archivos. El importante es `index.qmd` que es el archivo que genera el post. Veámoslo:\n\n\n::: {layout-ncol=1}\n\n![](./imagenes/tt_01/img_19b.png){fig-align=\"center\"}\n:::\n\n\n\nLos ficheros `.qmd` tienen **3 partes**: YAML, texto y chunks de código. Vamos a verlas una a una.\n\n## YAML\n\nEl encabezamiento o **YAML**, se utiliza para fijar determinadas opciones y metadatos de nuestro documento^[El `YAML` será  procesado varias veces durante el procesado del documento: es leído por Quarto, knitr y Pandoc e influirá en el resultado final, pudiendo afectar al código, al contenido y al procesado del documento].\n\nUna idea importante a recordar es que estamos trabajando con un **Qproject**. Trabajar con un Qproject tiene ventajas^[Puedes ver la documentación oficial de Quarto sobre proyectos [aquí](https://quarto.org/docs/projects/quarto-projects.html)], entre ellas:\n\n- poder procesar todos los archivos con un solo comando: `quarto render <myproject>`\n\n- la posibilidad de \"freeze rendered output\"\n\n- la posibilidad de redireccionar los documentos de salida (output) a otro directorio\n\n- posibilidad de compartir la configuración del YAML para múltiples documentos. Los metadatos compartidos se pueden definir tanto a nivel de proyecto como a nivel de directorio.\n\n\nEsta última ventaja, la posibilidad de **compartir opciones de metadatos YAML en varios documentos**, es importante ahora, porque nos da diferentes posibilidades para especificar el YAML de nuestros documentos o posts.\n\n<br>\n\n### El `yaml` de un post\n\nEn un post se pueden especificar opciones YAML de **3 formas/niveles**:\n\n1. **Nivel proyecto**: todos los Qprojects contienen un archivo de configuración llamado `_quarto.yml`, de forma que, todo documento que se procese (render) dentro del proyecto, heredará automáticamente los metadatos definidos en `_quarto.yml`.\n\n2. **Nivel carpeta**: si en una carpeta existe un documento `_metadata.yml`, los documentos de esa carpeta tendrán automáticamente las opciones definidas allí. La carpeta `/posts/` de un blog suele tener un archivo `_metadata.yml`.\n\n3. **Nivel documento**: En el yaml del propio post o documento `.qmd`\n\nDe esta forma, potencialmente, un post puede recibir opciones de YAML desde los 3 niveles. Si hay conflictos **prevalecen las opciones del nivel documento**, luego nivel carpeta y finalmente nivel proyecto.\n\n\nLos blogs se publican en **formato html**, de forma que, [aquí](https://quarto.org/docs/output-formats/html-basics.html) y [aquí](https://quarto.org/docs/reference/formats/html.html) tienes la **documentación oficial** de Quarto con las **principales opciones** que se pueden fijar con el YAML para documentos html.\n\nComo ves, es imposible repasar todas las opciones en el taller, solamente veremos algunas. Para ello, creo que la forma más operativa para el taller es mostrar ejemplos de ficheros `.yml` y revisar su contenido.\n\n\n::: {.panel-tabset}\n\n\n#### nivel proyecto (_quarto.yml)\n\nAbajo el contenido del fichero `_quarto.yml` tal y como lo tenemos ahora en nuestro blog. Solo he añadido 3 comentarios para diferenciar entre secciones:\n\n\n::: {.cell}\n\n```{.r .cell-code .code-overflow-wrap}\n# 1/ Opciones referentes al proyecto --------------------------------\nproject:\n  type: website\n \n#- 2/ Opciones referentes a la estructura de la web -----------------\nwebsite:\n  title: \"Mi blog (aún en pruebas)\"\n  navbar:\n    logo: \"profile.jpg\"\n    right:\n      - text: \"About me\"\n        href: about.qmd\n      - icon: github\n        href: https://github.com/<tu-usuario-github>\n      - icon: twitter\n        href: https://twitter.com/<tu-usuario twitter>\n      - icon: envelope\n        url: \"mailto:<tu-mail@uv.es>\"\n    left: \n      - text: \"Docencia\"\n        href: docencia.qmd\n\n#- 3/ Opciones referentes al formato de salida  ---------------------\nformat:\n  html:\n    theme: minty  \n    css: styles.css\n    toc: true\n    highlight-style: a11y\n```\n:::\n\n\n\n#### nivel carpeta (_metadata.yml)\n\nAbajo el, contenido del fichero `/posts/_metadata.yml`. Afectará a todos los ficheros `.qmd` que haya en la carpeta `/posts/`\n\n\n::: {.cell}\n\n```{.r .cell-code .code-overflow-wrap}\n# options specified here will apply to all posts in this folder\n\n# freeze computational output\n# (see https://quarto.org/docs/projects/code-execution.html#freeze)\nfreeze: true\n\n# Enable banner style title blocks\ntitle-block-banner: true\n```\n:::\n\n\n#### nivel documento (index.qmd)\n\nAbajo el encabezamiento del fichero `/posts/my-primer-post/index.qmd`:\n\n\n::: {.cell}\n\n```{.r .cell-code .code-overflow-wrap}\n---\ntitle: \"Mi primer post con Quarto\"\nauthor: \"Pedro J. Pérez\"\ndate: \"2022-10-25\"\ncategories: [R, quarto]\n---\n\nEste es mi primer post con Quarto!!!!\n\n![](thumbnail.jpg)\n\nAcabé con mi primer post. FIN\n```\n:::\n\n\n:::\n\n<br>\n\n### Distintas opciones YAML\n\n<br>\n\n#### Opciones referentes al proyecto \n\nEstas opciones, en principio, sólo se pueden poner una vez y, por tanto, se especifican en el fichero `_quarto.yml` (nivel proyecto).\n\n\n::: {.cell}\n\n```{.r .cell-code .code-overflow-wrap  code-line-numbers=\"true\"}\n# 1/ Opciones referentes al proyecto ----------------------------\nproject:\n  type: website\n  output-dir: docs    #- podemos cambiar la carpeta donde se redirige el output (.html)\n  # execute-dir: project    #- the working directory for rendering files within a project is the directory of the file itself. If you prefer to use the main project directory instead, you can add the execute-dir: project \n  #- https://quarto.org/docs/projects/code-execution.html#working-dir\n```\n:::\n\n\nComo vemos, podemos cambiar:\n\n- la **carpeta** donde se generará el **output del proyecto** (linea 4: output_dir : docs). \n\n- el **directorio de trabajo** en el que se procesan los `.qmd` (linea 5: execute-dir: project). Yo no lo haría, estoy muy acostumbrado a que el directorio de trabajo de los `.Rmd` sea la carpeta donde se procesan.\n\n<br>\n\n#### Opciones referentes a la estructura de la página web \n\n\nYa vimos algunas opciones en el 2º tutorial, veremos algunas más, pero será en el 7º tutorial. Como ejemplo, podríamos modificar esa sección de `_quarto.yml` para dejarla como:\n\n\n\n::: {.cell}\n\n```{.r .cell-code .code-overflow-wrap  code-line-numbers=\"true\"}\n#- 2/ Opciones referentes a la estructura de la web -----------------\nwebsite:\n  title: \"Mi blog (aún en pruebas)\"\n  favicon: imagenes/ababol_redondeado.ico\n  site-url: https://perezp44.github.io/taller.primer.blog/\n  repo-url: https://github.com/perezp44/taller.primer.blog\n  open-graph: true #-https://quarto.org/docs/websites/website-tools.html#twitter-cards\n  twitter-card:\n    creator: \"@tu-usuario-twitter\"\n    card-style: summary_large_image\n  navbar:\n    logo: \"profile.jpg\"\n    #background: primary    #- pink\n    right:\n      - text: \"About me\"\n        href: about.qmd\n      - icon: github\n        href: https://github.com/<tu-usuario-github>\n      - icon: twitter\n        href: https://twitter.com/<tu-usuario-twitter>\n      - icon: envelope\n        url: \"mailto:<tu-mail@uv.es>\"\n    left: \n      - icon: house-door\n        href: index.html\n      - text: \"Docencia\"\n        href: docencia.qmd\n  page-footer:\n    left: \"© 2022 Pedro J. Pérez\"\n    center: \"Hecho con [Quarto](https://quarto.org)\"\n    right:\n      - icon: github\n        href: https://github.com/<tu-usuario-github>\n      - icon: twitter\n        href: https://twitter.com/<tu-usuario-twitter>\n      - icon: envelope\n        url: \"mailto:<tu-mail>@uv.es\"\n      - text: <i class=\"ai ai-google-scholar\" role=\"img\"></i>\n        href: https://scholar.google.de/citations?user=<tu-user>&hl=en\n      - text: <i class=\"ai ai-orcid\" role=\"img\"></i>\n        href: https://orcid.org/<tu-numero-orcid>\n```\n:::\n\n\nComo ves, se añadirían elementos como:\n\n- Un pie de página (lineas 28 a 41)^[Puedes ver un ejemplo de cómo quedaría el pie de página en la web del taller, [aquí](https://perezp44.github.io/taller.primer.blog/materiales.html)]\n\n- Hemos añadido un elemento a la `navbar` concretamente el icono `Home` (lineas 24 y 25). La documentación oficial para elementos de navegación está [aquí](https://quarto.org/docs/websites/website-navigation.html)\n\n- Elementos de redes sociales como un favicon (linea 4), el url de la web y del repo en Github (lineas 5 y 6) y más elementos de redes sociales  (lineas 7 a 10). La documentación oficial para estos elementos está [aquí](https://quarto.org/docs/websites/website-tools.html)\n\n\n<br>\n\n## Texto\n\nEl texto (o narrativa) de un documento `.qmd` se escribe, al igual que en los documentos `.Rmd` en `markdown`. [Aquí](https://quarto.org/docs/authoring/markdown-basics.html) la documentación oficial de Quarto.\n\n<br>\n\n### Sintaxis básica de `markdown`\n\n-  [Aquí](https://quarto.org/docs/authoring/markdown-basics.html) puedes ver o recordar la sintaxis básica, las principales reglas para escribir en `markdown`.\n\n- Como ejemplo:\n\n+-----------------------------------+-------------------------------+\n| SI ESCRIBES ESTO:                 | SE VERÁ ESTO (output):        |\n+===================================+===============================+\n| **Formato de texto**                                              |\n+===================================+===============================+\n|     *italics* and **bold**        | *italics* and **bold**        |\n+-----------------------------------+-------------------------------+\n|     superscript^2^ / subscript~2~ | superscript^2^ / subscript~2~ |\n+-----------------------------------+-------------------------------+\n|     ~~strikethrough~~             | ~~strikethrough~~             |\n+-----------------------------------+-------------------------------+\n|     `verbatim code`               | `verbatim code`               |\n+===================================+===============================+\n| **TÍTULOS**                                                       |\n+===================================+===============================+\n\n\n<br>\n\n### Más elementos para \"escribir\" \n\nAdemás de los elementos de escritura que nos ofrece la sintaxis básica de `markdown`. Quarto nos ofrece más posibilidades, veamos algunas de ellas:\n\n#### Figuras\n\n<https://quarto.org/docs/authoring/figures.html>\n\n#### Tablas\n\n<https://quarto.org/docs/authoring/tables.html>\n\n\n- Escribir con el editor visual: <https://www.rstudio.com/blog/exploring-rstudio-visual-markdown-editor/>\n\n<br><br>\n\n## Chunks de código\n\n- Los *chunks* de código también son muy similares en `.qmd`que en `.Rmd\n\n- Las principales diferencias son: \n\n\nLink interno al [4º tutorial](04_taller_crear-post.qmd)\n\n## Extras\n\n- Create a tabset via a markdown div with the class name panel-tabset (e.g. ::: {.panel-tabset}) <https://quarto.org/docs/output-formats/html-basics.html#tabsets>\n\n\n<br>\n\n## Resumen\n\n::: {.callout-tip collapse=\"true\" appearance=\"default\" icon=\"false\"}\n#### Resumen\n\n- En esta cuarta parte del taller hemos visto como podemos generar/escribir nuevos posts para nuestro blog: solo hay replicar una de las carpetas de anteriores posts y cambiarle el nombre.\n\n:::\n\n\n\n\n\n<br>\n\n\n## Referencias\n\n(Algunos artículos sobre creación de blogs en Quarto)\n\n- [ Eric Ekholm. 2022. Modifying the Default Quarto Blog Structure](https://www.ericekholm.com/posts/demo-quarto-site/)  es una web con blog . GOOOOD\n\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}